!function(){function i(i,e){e=e||{bubbles:!1,cancelable:!1,detail:void 0};var t=document.createEvent("CustomEvent");return t.initCustomEvent(i,e.bubbles,e.cancelable,e.detail),t}i.prototype=window.Event.prototype,window.CustomEvent=i}();var res=function(i){var e=this;this.uagent=navigator.userAgent.toLowerCase(),this.state=void 0,this.input=void 0,this.orient=void 0,this.device=void 0,this.os=void 0,this.browser=void 0,this.version=void 0,this.width=0,this.grid={},this.viewports={},this.gridsettings={};for(var t=0,n=0;n<i.length;n++)e.viewports[i[n].state]=[t+1,i[n].breakpoint],void 0!==i[n].cols&&void 0!==i[n].margin&&void 0!==i[n].gutter&&(e.gridsettings[i[n].state]=[i[n].cols,i[n].margin,i[n].gutter]),t=i[n].breakpoint;this.init()};res.prototype={setState:function(){var i=this;"desktop"===i.device?i.width=window.innerWidth:"desktop"!==i.device&&("portrait"===i.orient?i.width=screen.width:"landscape"===i.orient&&(i.width=screen.height));for(var e in i.viewports)if(i.viewports.hasOwnProperty(e)&&i.width>=i.viewports[e][0]&&i.width<=i.viewports[e][1]&&i.state!=e)return i.state=e,i.state},inputCheck:function(){var i=this;i.input="ios"===i.os||"android"===i.os||"winphone"===i.os?"touch":"mouse"},browserCheck:function(){var i,e=this,t=e.uagent.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];return/trident/i.test(t[1])?(i=/\brv[ :]+(\d+)/g.exec(e.uagent)||[],"IE "+(i[1]||"")):"Chrome"===t[1]&&(i=e.uagent.match(/\bOPR\/(\d+)/),null!=i)?"Opera "+i[1]:(t=t[2]?[t[1],t[2]]:[navigator.appName,navigator.appVersion,"-?"],null!=(i=e.uagent.match(/version\/(\d+)/i))&&t.splice(1,1,i[1]),e.browser=t[0],e.version=t[1],t.join(" "))},osCheck:function(){var i=this;-1!=navigator.appVersion.indexOf("Win")?(i.os="windows",i.device="desktop"):-1!=navigator.appVersion.indexOf("Mac")&&null==navigator.userAgent.match(/(iPhone|iPod|iPad)/)?(i.os="osx",i.device="desktop"):navigator.userAgent.indexOf("Android")>-1?(i.os="android",i.device=navigator.userAgent.indexOf("Mobile")>-1?"mobile":"tablet"):navigator.userAgent.indexOf("windows phone")>0?(i.os="windows",i.device="mobile"):-1!=navigator.appVersion.indexOf("X11")?(i.os="unix",i.device="desktop"):-1!=navigator.appVersion.indexOf("Linux")?(i.os="linux",i.device="desktop"):navigator.userAgent.match(/(iPhone|iPod|iPad)/).length>0&&(i.os="ios",i.uagent.indexOf("iphone")>0&&(i.device="iphone"),i.uagent.indexOf("ipod")>0&&(i.device="ipod"),i.uagent.indexOf("ipad")>0&&(i.device="ipad"))},gridHelper:function(i){var e,t,n,o,r,s=this,a=[],d=[];r=s.gridsettings[i][0],n=s.gridsettings[i][1],o=s.gridsettings[i][2],e=[],t=[],width=window.innerWidth-2*n+o,columnWidth=width/r-o;for(var h=0;r>h;h++)t=0===h?0:columnWidth*h+o*(h-1),e=width/r*h+n,a.push(e),d.push(t),h===r-1&&(t=columnWidth*(h+1)+o*h,d.push(t));return{cols:r,col:a,colSpan:d,width:width,margin:n,gutter:o}},resize:function(){var i=this;return i.orient=window.innerHeight>window.innerWidth?"portrait":"landscape",i.setState(),i.gridsettings.hasOwnProperty(i.state)&&(i.grid=i.gridHelper(i.state)),i.stateChange=new CustomEvent("stateChange",{bubbles:!1,cancelable:!0}),window.dispatchEvent(i.stateChange),i},init:function(){var i=this;i.osCheck(),i.inputCheck(),i.browserCheck(),window.onorientationchange=function(){i.resize()},window.onresize=function(){i.resize()},i.resize()}};
