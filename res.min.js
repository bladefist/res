var res=function(e){this.viewports={portrait:[0,e[0]],landscape:[e[0]+1,e[1]],tablet:[e[1]+1,e[2]],small:[e[2]+1,e[3]],medium:[e[3]+1,e[4]],large:[e[4]+1,1e4]};this.uagent=navigator.userAgent.toLowerCase();this.state=undefined;this.input=undefined;this.orient=undefined;this.device=undefined;this.os=undefined;this.browser=undefined;this.version=undefined;this.width=0;this.stateChange=new CustomEvent("stateChange",{detail:{time:new Date},bubbles:false,cancelable:true});this.init()};res.prototype={setState:function(){var e=this;var t=e.viewports;if(e.device==="desktop"){e.width=window.innerWidth}else if(e.device!=="desktop"){if(e.orient==="portrait"){e.width=screen.width}else if(e.orient==="landscape"){e.width=screen.height}}for(var n in t){if(t.hasOwnProperty(n)){if(e.width>=t[n][0]&&e.width<=t[n][1]){if(e.state!=n){e.state=n}window.dispatchEvent(e.stateChange);return e.state}}}},inputCheck:function(){var e=this;if(e.os==="ios"||e.os==="android"||e.os==="winphone"){e.input="touch"}else{e.input="mouse"}},browserCheck:function(){var e=this;var t,n=e.uagent.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];if(/trident/i.test(n[1])){t=/\brv[ :]+(\d+)/g.exec(e.uagent)||[];return"IE "+(t[1]||"")}if(n[1]==="Chrome"){t=e.uagent.match(/\bOPR\/(\d+)/);if(t!=null){return"Opera "+t[1]}}n=n[2]?[n[1],n[2]]:[navigator.appName,navigator.appVersion,"-?"];if((t=e.uagent.match(/version\/(\d+)/i))!=null){n.splice(1,1,t[1])}e.browser=n[0];e.version=n[1];return n.join(" ")},osCheck:function(){var e=this;if(navigator.appVersion.indexOf("Win")!=-1){e.os="windows";e.device="desktop"}else if(navigator.appVersion.indexOf("Mac")!=-1&&navigator.userAgent.match(/(iPhone|iPod|iPad)/)==null){e.os="osx";e.device="desktop"}else if(navigator.userAgent.indexOf("Android")>-1){e.os="android";if(navigator.userAgent.indexOf("Mobile")>-1){e.device="mobile"}else{e.device="tablet"}}else if(navigator.userAgent.indexOf("windows phone")>0){e.os="windows";e.device="mobile"}else if(navigator.appVersion.indexOf("X11")!=-1){e.os="unix";e.device="desktop"}else if(navigator.appVersion.indexOf("Linux")!=-1){e.os="linux";e.device="desktop"}else if(navigator.userAgent.match(/(iPhone|iPod|iPad)/).length>0){e.os="ios";if(e.uagent.indexOf("iphone")>0){e.device="iphone"}if(e.uagent.indexOf("ipod")>0){e.device="ipod"}if(e.uagent.indexOf("ipad")>0){e.device="ipad"}}},resize:function(){var e=this;if(window.innerHeight>window.innerWidth){e.orient="portrait"}else{e.orient="landscape"}e.setState()},init:function(){var e=this;e.osCheck();e.inputCheck();e.browserCheck();window.onorientationchange=function(){e.resize()};window.onresize=function(){e.resize()};e.resize()}}
